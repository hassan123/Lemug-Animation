 <div class="page-content">
        <div class="page-section header">
            <header>
                <h1>
                    <span class="hero-text">It’s Better to</span>
                    <span class="hero-text-huge">Travel Well</span>
                    
<span class="graphic" id="city-guides-hero">
    <span class="graphic-highlight"></span>
    <span class="device-group">
        <span class="device-group-content">
            <span class="iphone device">
                <span class="device-shadow"></span>
                <span class="device-chrome"></span>
                <span class="device-content">
                    <span class="device-screen">
                        <img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/hero-1%402x.jpg" data-no-unload="true" width="500">
                    </span>
                    <span class="overlap-shadow"></span>
                </span>
            </span>
            <span class="iphone device">
                <span class="device-shadow"></span>
                <span class="device-chrome"></span>
                <span class="device-content">
                    <span class="device-screen">
                        <img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/hero-2%402x.jpg" data-no-unload="true" width="500">
                    </span>
                    <span class="overlap-shadow"></span>
                </span>
            </span>
            <span class="iphone device">
                <span class="device-shadow"></span>
                <span class="device-chrome"></span>
                <span class="device-content">
                    <span class="device-screen">
                        <img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/hero-3%402x.jpg" data-no-unload="true" width="500">
                    </span>
                </span>
            </span>
        </span>
    </span>
</span>

                    <span class="hero-text">Than to Arrive</span>
                    <span class="hero-text-attribution">—Buddha</span>
                </h1>
            </header>
        </div>

        <div class="page-section" id="a-guide-to-your-travels">
            <div class="page-section-number">
                <hr>
                <span>01</span>
            </div>

            <h2>
                A Guide to Your&nbsp;Travels
                <span class="subtitle-separator">/</span>
                <span class="subtitle">And Who Better to Guide You Than National&nbsp;Geographic?</span>
            </h2>
            <p>
                A passion for travel has been at the heart of the National Geographic Society since its founding in 1888. In the <a href="https://itunes.apple.com/us/app/city-guides-by-national-geographic/id592453480?mt=8" target="_blank">City Guides by National Geographic app</a>, this passion meets the smartphone age, putting the best of National Geographic’s travel advice directly in the hands of users.
            </p>
            <div class="case-study-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="150px" height="150px" viewBox="0 0 150 150" enable-background="new 0 0 150 150" xml:space="preserve">
<g>
    <g>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M113.5,31.5c0-2.8-2.2-5-5-5h-66c-2.8,0-5,2.2-5,5v10c0,2.8,2.2,5,5,5h66c2.8,0,5-2.2,5-5V31.5z"></path>
    </g>
    <g>
        <rect x="57" y="26" fill="#A500BD" width="7" height="21"></rect>
        <rect x="86" y="26" fill="#A500BD" width="7" height="21"></rect>
    </g>
    <g>
        <rect x="86" y="101" fill="#A500BD" width="7" height="7"></rect>
        <rect x="57" y="101" fill="#A500BD" width="7" height="7"></rect>
    </g>
    <g>
        <polygon fill="#A500BD" points="71,93.2 75,97 79,93.2 79,91 71,91       "></polygon>
        <rect x="71" y="80" fill="#A500BD" width="8" height="5"></rect>
    </g>
    
        <rect x="47.5" y="46.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="55" height="54"></rect>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M48,79.5c0,0,41,0,46.2,0c5.2,0,7.8-4.6,7.8-8.5"></path>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M47.3,79.2"></path>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M102.2,70.7"></path>
    
        <rect x="69.3" y="57.3" transform="matrix(0.7071 0.7071 -0.7071 0.7071 66.5147 -34.5807)" fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="11.3" height="11.3"></rect>
    <g>
        
            <line fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="73.5" y1="60.5" x2="73.5" y2="65.5"></line>
        
            <line fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="76.5" y1="60.5" x2="76.5" y2="65.5"></line>
    </g>
    
        <rect x="69.5" y="85.5" fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="11" height="5"></rect>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M108.3,107.5H41.7c-1.5,0-2.2,3.8-2.2,8.5c0,4.7,0.7,8.5,2.2,8.5h66.6c1.5,0,2.2-3.8,2.2-8.5C110.5,111.3,109.8,107.5,108.3,107.5z
        "></path>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M43.5,116.5
        c0-2.8,0.7-5,1.5-5h3.5"></path>
    
        <rect x="102.5" y="59.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="10" height="31"></rect>
    
        <rect x="37.5" y="59.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="10" height="31"></rect>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M44.5,30.7
        c-2,0-3,1.3-3,2.3c0,1,0,6.1,0,6.1"></path>
    <rect x="74" y="87" fill="#A500BD" width="2" height="3"></rect>
</g>
</svg>

            </div>
        </div>

        <div class="page-section" id="find-interesting-things-faster" style="display: none;">
             <div class="page-section-number">
                <hr>
                <span>02</span>
            </div>

            <h2>
                Find Interesting Things&nbsp;Faster
                <span class="subtitle-separator">/</span>
                <span class="subtitle">Designing for Content</span>
            </h2>
            <p>
                From the initial conversations with National Geographic, it was clear that we would be adapting content from their acclaimed printed city guides. We worked closely to craft the existing information into a system with the consistency and structure necessary to make navigation easy (and storage in a database possible).
            </p>
            <p>
                We wound up with a variety of sections, from long-form What To Dos to bite-sized, sharable Did You Knows. In one section, users can learn about food experiences that shouldn’t be missed, and in another, users can view recommended walks and learn about each stop along the way.
            </p>
            <p>
                As a modern digital guidebook, it was important that City Guides made it simple for users to organically follow interesting information. To this end, we designed the data to allow for two simple interaction patterns:
            </p>
            <div class="case-study-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="150px" height="150px" viewBox="0 0 150 150" enable-background="new 0 0 150 150" xml:space="preserve">
<g>
    
        <circle fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="62.5" cy="66.3" r="25"></circle>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M49.1,79.8
        c-7.4-7.4-7.4-19.5,0-26.9"></path>
    
        <polyline fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="
        82.6,81.3 82.6,81.2 90.7,86.5 82.6,94.6 77.4,86.5 77.4,86.4     "></polyline>
    
        <rect x="95.2" y="84.5" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -44.7544 102.0939)" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="11.4" height="41.2"></rect>
    
        <line fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="89" y1="95" x2="110" y2="116"></line>
    <g>
        <path fill="#A500BD" d="M62,20c5,0,9,4,9,9s-4,9-9,9s-9-4-9-9S57,20,62,20 M62,19c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10
            S67.5,19,62,19L62,19z"></path>
    </g>
    <g>
        <path fill="#A500BD" d="M61,62.5l1.2-16c0-0.2,0.1-0.3,0.3-0.3c0.1,0,0.3,0.1,0.3,0.3l1.2,16c0.1,0.8-0.6,1.6-1.4,1.6
            c-0.8,0.1-1.6-0.6-1.6-1.4C61,62.7,61,62.6,61,62.5z"></path>
    </g>
    <g>
        <polygon fill="#A500BD" points="61,74 62.2,71 62.8,71 64,74         "></polygon>
    </g>
    
        <circle fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="62.4" cy="66.3" r="3.2"></circle>
    <path fill="#A500BD" d="M66,29c0-0.6-0.4-1-1-1h-6c-0.6,0-1,0.4-1,1v6c0,0.6,0.4,1,1,1h6c0.6,0,1-0.4,1-1V29z M61,34h-1v-4h1V34z"></path>
    <g>
        <g>
            <path fill="#A500BD" d="M87.2,40.2c-0.4-0.4-1-0.4-1.4,0l-3.6,3.6c-0.4,0.4-0.4,1,0,1.4l3.6,3.6c0.4,0.4,1,0.4,1.4,0l3.6-3.6
                c0.4-0.4,0.4-1,0-1.4L87.2,40.2z"></path>
        </g>
        <g>
            <path fill="#A500BD" d="M34.2,43.8c-0.4,0.4-0.4,1,0,1.4l3.6,3.6c0.4,0.4,1,0.4,1.4,0l3.6-3.6c0.4-0.4,0.4-1,0-1.4l-3.6-3.6
                c-0.4-0.4-1-0.4-1.4,0L34.2,43.8z"></path>
        </g>
    </g>
    <rect x="60" y="35" fill="#A500BD" width="4" height="6"></rect>
</g>
</svg>

            </div>

            <ol class="numbered-title-list">
                <li>
                    <h3 class="numbered-title">The Crosslink</h3>
                    <p>
                        At the core of our content are actual locations, which we call Points of Interest. Let’s take a look at a specific Point of Interest: the Tower of London. The Tower of London has a What To Do, explaining briefly the history of the Tower, and what to do and see there. It also has a Did You Know fact, which could be shared on Twitter or Facebook. The Tower also has an entry in the Secrets section, with little-known details for the curious traveler. If a user reads the Did You Know and is interested to learn more, they will see crosslink buttons to the What To Do and Secret content, and a single tap will bring them to that related content.
                    </p>
                    
<div class="graphic" id="graphic-crosslink">
    <div class="graphic-highlight"></div>
    <div class="device-group">
        <div class="device-group-content">
            <svg class="lines" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 520 1046" enable-background="new 0 0 520 1046" xml:space="preserve">
<path vector-effect="non-scaling-stroke" fill="none" stroke="#8F64AA" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="4.5,4" d="M198.3,684.7
    c141,6.2,216.8-117.4,254.5-241.4"></path>
<path vector-effect="non-scaling-stroke" fill="none" stroke="#8F64AA" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="4.5,4" d="M198.3,756.1
    c71-6.2,135-4.1,168,40.9"></path>
</svg>
            <div class="iphone device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/crosslink%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/crosslink%402x.jpg" width="500" style="opacity: 1; transition: opacity 0.2s linear;">
                    </div>
                </div>
                <div class="device-aux-content">
                    
                    <img class="detail-crop" src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/zoom-dyk%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/zoom-dyk%402x.jpg" width="200" style="opacity: 1; transition: opacity 0.2s linear;">
                    <img class="detail-crop" src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/zoom-secret%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/zoom-secret%402x.jpg" width="200" style="opacity: 1; transition: opacity 0.2s linear;">
                    
                </div>
            </div>
            <div class="graphic-caption">
                <div class="graphic-caption-content">
                    <h4 class="caption-title">Crosslink</h4>
                    <div class="caption-text">
                        The crosslink buttons allow users to jump immediately to other content related to the same Point of Interest.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="graphic-caption" id="caption-crosslink">
    <script>document.write(document.querySelector("#graphic-crosslink .graphic-caption").innerHTML);</script>
</div>

                </li>
                <li>
                    <h3 class="numbered-title">The Deeplink</h3>
                    <p>
                        In a print guidebook, an intriguing mention of a related location will send the reader to dig through the index (or perhaps away from the book, to their search engine). In the City Guides app, we can allow users to simply tap on the name of an interesting place to learn about it. If the user is reading about Iconic Cafés in Paris, they can tap Les Deux Magots for a quick description, a link to its website, and all the information they need to check out one of Hemingway’s favorite haunts.
                    </p>
                    
<div class="graphic" id="graphic-deeplink">
    <div class="graphic-highlight"></div>
    <div class="device-group">
        <div class="device-group-content">
            <svg class="lines" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 624 1046" enable-background="new 0 0 624 1046" xml:space="preserve">
<path vector-effect="non-scaling-stroke" fill="none" stroke="#8F64AA" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="4.5,4" d="M115,549h163.7
    c18.4,0,33.3-14.9,33.3-33.3V322c0-18.4,14.9-33.3,33.3-33.3h24.3"></path>
</svg>
            <div class="tap"></div>
            <div class="arrow"></div>
            <div class="iphone device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/deeplink-1%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/deeplink-1%402x.jpg" width="500" style="opacity: 1; transition: opacity 0.2s linear;">
                    </div>
                </div>
            </div>
            <div class="iphone device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/deeplink-2%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/deeplink-2%402x.jpg" width="500" style="opacity: 1; transition: opacity 0.2s linear;">
                    </div>
                </div>
            </div>
            <div class="graphic-caption">
                <div class="graphic-caption-content">
                    <h4 class="caption-title">Deeplink</h4>
                    <div class="caption-text">
                        By tapping highlighted text in any text field, the user can deeplink into a Point of Interest view, presenting all pertinent information about the location.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="graphic-caption" id="caption-deeplink">
    <script>
        document.write(document.querySelector("#graphic-deeplink .graphic-caption").innerHTML);
    </script>
</div>

                </li>
            </ol>
        </div>

        <div class="page-section" id="from-a-spreadsheet-to-an-app" style="display: none;">
            <div class="page-section-number">
                <hr>
                <span>03</span>
            </div>

            <h2>
                From a Spreadsheet to an&nbsp;App
                <span class="subtitle-separator">/</span>
                <span class="subtitle">How We Parsed and Organized Data Into the&nbsp;App</span>
            </h2>
            <p>
                The initial data hand-off came in the form of Google Doc spreadsheets. To get it into a form that we could use in the app, were going to need to put it into a Django-based CMS. We created data models that mirrored the agreed-upon structure, and then it was a relatively simple task to convert the spreadsheets into CSV files. From there, we wrote Python scripts to crawl through the files, creating instances in Django. We ran our Django project off a SQLite database, so once all our data was in, we could simply drop the SQLite file into the app, using the third-party FMDB library to query data at run-time.
            </p>
            <div class="case-study-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="150px" height="150px" viewBox="0 0 150 150" enable-background="new 0 0 150 150" xml:space="preserve">
<g>
    <rect x="74" y="74" fill="#A500BD" width="3" height="27"></rect>
    <rect x="80" y="67" fill="#A500BD" width="3" height="34"></rect>
    <rect x="86" y="77" fill="#A500BD" width="3" height="24"></rect>
    <rect x="92" y="87" fill="#A500BD" width="3" height="14"></rect>
    <circle fill="#A500BD" cx="58.5" cy="84.5" r="1.5"></circle>
    <circle fill="#A500BD" cx="64.5" cy="85.5" r="1.5"></circle>
    <circle fill="#A500BD" cx="69.5" cy="78.5" r="1.5"></circle>
    <polyline fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="54,90 
        58.5,84 64.5,85.5 69,79     "></polyline>
    <path fill="#A500BD" d="M65,53h-9c0-2,2-4,4.5-4C63,49,65,51,65,53z"></path>
    <circle fill="#A500BD" cx="60.5" cy="45.5" r="2.5"></circle>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M50.5,28.5v91h48v-91H50.5z"></path>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="74" y1="33.5" x2="81" y2="33.5"></line>
    
        <rect x="50.5" y="39.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="48" height="62"></rect>
    <circle fill="#A500BD" cx="74" cy="111" r="3"></circle>
    <circle fill="#A500BD" cx="67.5" cy="33.5" r="1.5"></circle>
    <line fill="none" stroke="#A500BD" stroke-miterlimit="10" x1="68" y1="44.5" x2="79" y2="44.5"></line>
    <line fill="none" stroke="#A500BD" stroke-miterlimit="10" x1="82" y1="44.5" x2="93" y2="44.5"></line>
    <line fill="none" stroke="#A500BD" stroke-miterlimit="10" x1="68" y1="48.5" x2="79" y2="48.5"></line>
    <line fill="none" stroke="#A500BD" stroke-miterlimit="10" x1="82" y1="48.5" x2="93" y2="48.5"></line>
    <line fill="none" stroke="#A500BD" stroke-miterlimit="10" x1="68" y1="52.5" x2="79" y2="52.5"></line>
    <line fill="none" stroke="#A500BD" stroke-miterlimit="10" x1="82" y1="52.5" x2="93" y2="52.5"></line>
    <line fill="none" stroke="#A500BD" stroke-miterlimit="10" x1="56" y1="56.5" x2="79" y2="56.5"></line>
    <line fill="none" stroke="#A500BD" stroke-miterlimit="10" x1="82" y1="56.5" x2="93" y2="56.5"></line>
    <line fill="none" stroke="#A500BD" stroke-miterlimit="10" x1="56" y1="60.5" x2="79" y2="60.5"></line>
    <line fill="none" stroke="#A500BD" stroke-miterlimit="10" x1="82" y1="60.5" x2="93" y2="60.5"></line>
</g>
</svg>

            </div>
        </div>

        <div class="page-section" id="getting-around-the-cities" style="display: none;">
            <div class="page-section-number">
                <hr>
                <span>04</span>
            </div>

            <h2>
                Getting Around the&nbsp;Cities
                <span class="subtitle-separator">/</span>
                <span class="subtitle">&amp; Why We Used MapBox</span>
            </h2>
            <h3>Why MapBox?</h3>
            <p>
                From a creative perspective, it was important to us to be able to customize our maps to feel at-home in the app, with a look-and-feel that matched our interface. The MapBox service offered us tools to easily customize map tiles for our purpose. We wanted the maps to feel very urban, so we chose a de-saturated, darker palette, on which our brightly colored map pins and routing lines would pop.
            </p>
            
<style>
#graphic-why-mapbox .device-group {
    max-width: 670px;
}
#graphic-why-mapbox .ipad-portrait {
    width: 86%;
    margin: auto;
}
#graphic-why-mapbox .device-content {
    z-index: auto;
}
#graphic-why-mapbox .video-player {
    position: relative;
    z-index: 2; /* wut */
}
</style>

<div class="graphic" id="graphic-why-mapbox">
    <div class="graphic-highlight"></div>
    <div class="device-group">
        <div class="device-group-content">
            <div class="ipad-portrait device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <div class="video-player" data-video-url="http://com.rallyinteractive.cdn.s3.amazonaws.com/video/city-guides/why-mapbox.mov">
                            <div class="video-player-overlay"><a href="#">play</a></div>
                            <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/why-mapbox%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/why-mapbox%402x.jpg" width="500" style="opacity: 1; transition: opacity 0.2s linear;">
                        </div>
                    </div>
                </div>
                <div class="device-aux-content">
                    <!-- play button? -->
                </div>
            </div>
        </div>
    </div>
</div>


            <h3>Color Coordination</h3>
            <p>
                In the Walks and Itinerary sections, users are presented with routes, and we wanted to ensure there was a clear sense of motion from beginning to end. To achieve this, we chose to visualize routes with a specific color gradient from purple to blue. Because purple is the warmer color, we felt that it was more appropriate to indicate the beginning of each journey. As each route progresses, both the lines showing the route and the pins indicating points of interest along the way gradually transition to&nbsp;blue.
            </p>
            
<div class="graphic" id="graphic-color-coordination">
    <div class="graphic-highlight"></div>
    <div class="device-group">
        <div class="device-group-content">
            <div class="ipad-portrait device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/color-coordination%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/color-coordination%402x.jpg" style="opacity: 1; transition: opacity 0.2s linear;">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


            <h3>Open Source SDK</h3>
            <p>
                We’re not content to use the same old UI metaphors, particularly when they don’t serve our goals. With our maps in this app, we knew we wanted to integrate the concept of the crosslink, so the traditional map callout simply wasn’t going to cut it. We came up with the concept of the “bubble” callout, with up to 2 smaller crosslink callouts. Let’s be honest – this is pretty far outside the norm of customization options provided by existing map SDKs. Fortunately for us, MapBox provides an open-source SDK for their map, so we had the power to dive into the internals to allow ourselves the degree of control necessary for our UX goals.
            </p>
            
<div class="graphic" id="graphic-open-source-sdk">
    <div class="graphic-highlight"></div>
    <div class="device-group">
        <div class="device-group-content">
            <div class="iphone device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <div class="video-player" data-video-url="http://com.rallyinteractive.cdn.s3.amazonaws.com/video/city-guides/bubble.mov">
                            <div class="video-player-overlay"><a href="#">play</a></div>
                            <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/open-source-sdk%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/open-source-sdk%402x.jpg" style="opacity: 1; transition: opacity 0.2s linear;">
                        </div>
                    </div>
                </div>
            </div>
            <div class="graphic-caption">
                <div class="graphic-caption-content">
                    <h4 class="caption-title">The Bubble Callout</h4>
                    <div class="caption-text">
                        The “bubble” callout appears when a pin is tapped, presenting secondary crosslinks in addition to the primary What To Do content. This level of customization was possible because of the open-source nature of MapBox.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="graphic-caption" id="caption-open-source-sdk">
    <script>
        document.write(document.querySelector("#graphic-open-source-sdk .graphic-caption").innerHTML);
    </script>
</div>

        </div>

        <div class="page-section" id="what-is-an-itinerary" style="display: none;">
            <div class="page-section-number">
                <hr>
                <span>05</span>
            </div>

            <h2>
                What Is an Itinerary?
                <span class="subtitle-separator">/</span>
                <span class="subtitle">How We Made an Itinerary Experience More&nbsp;Useful</span>
            </h2>
            <p>
                At its core, an itinerary is just a list. Since we already had a Favorites list, we had to seriously consider what value an Itinerary section would add for the user. In the end, it boiled down to what kinds of content are being saved. We decided that Favorites were a place to save specific pieces of content – What To Dos, Photos, etc. Itineraries, however, are strictly for Points of Interest – physical locations that a user can actually visit.
            </p>
            
<div class="graphic device-slideshow" id="graphic-what-is-itinerary">
    <div class="graphic-highlight"></div>
    <div class="graphic-overflow">
        <div class="device-group">
            <div class="device-group-content">
                <svg class="lines" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1736 1170" enable-background="new 0 0 1736 1170" xml:space="preserve">
<path vector-effect="non-scaling-stroke" fill="none" stroke="#8F64AA" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="4.5,4" d="M41,651.5h333.8
    c54.3,0,98.2-44,98.2-98.2v-130c0-54.3,44-98.2,98.2-98.2H627"></path>
<path vector-effect="non-scaling-stroke" fill="none" stroke="#8F64AA" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="4.5,4" d="M885,418h281.8
    c54.3,0,98.2,44,98.2,98.2v65c0,54.3,44,98.2,98.2,98.2h55.8"></path>
</svg>
                <div id="itinerary-tap-1" class="tap"></div>
                <div id="itinerary-arrow-1" class="arrow"></div>
                <div id="itinerary-tap-2" class="tap"></div>
                <div id="itinerary-arrow-2" class="arrow"></div>
                <div class="iphone device">
                    <div class="device-shadow"></div>
                    <div class="device-chrome"></div>
                    <div class="device-content">
                        <div class="device-screen">
                            <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/itinerary-1%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/itinerary-1%402x.jpg" width="500" style="opacity: 1; transition: opacity 0.2s linear;">
                        </div>
                    </div>
                    <div class="device-aux-content">
                        <!-- arrow -->
                    </div>
                </div>
                <div class="iphone device">
                    <div class="device-shadow"></div>
                    <div class="device-chrome"></div>
                    <div class="device-content">
                        <div class="device-screen">
                            <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/itinerary-2%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/itinerary-2%402x.jpg" width="500" style="opacity: 1; transition: opacity 0.2s linear;">
                        </div>
                    </div>
                    <div class="device-aux-content">
                        <!-- arrow -->
                    </div>
                </div>
                <div class="iphone device">
                    <div class="device-shadow"></div>
                    <div class="device-chrome"></div>
                    <div class="device-content">
                        <div class="device-screen">
                            <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/itinerary-3%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/itinerary-3%402x.jpg" width="500" style="opacity: 1; transition: opacity 0.2s linear;">
                        </div>
                    </div>
                    <div class="device-aux-content">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="pagination-bar">
        <div class="pagination-bar-outer">
            <div class="pagination-bar-inner">
                <div class="pagination-bar-content">
                    <div class="pagination-bar-handle"></div>
                </div>
            </div>
        </div>
    </div>
</div>


            <h3>Learning from Past&nbsp;Mistakes</h3>
            <p>
                To be honest, when we built <a class="internal-link" href="/national-parks/">National Parks</a>, the Itinerary section was a bit of an afterthought. We were so focused on the other features of the app, it kind of got lost in the shuffle. We’re not terribly comfortable with missed opportunities, so we were pretty excited to get a second run at the concept.
            </p>
            <p>
                Some of our improvements were simple UX considerations that were missing, like the ability to rename an itinerary. More central, though, was our focus on making the itinerary a helpful planning tool.
            </p>
            
<div class="graphic" id="graphic-learning-from-past-mistakes">
    <div class="graphic-highlight"></div>
    <div class="device-group">
        <div class="device-group-content">
            <svg class="lines" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 420 1046" enable-background="new 0 0 420 1046" xml:space="preserve">
<path vector-effect="non-scaling-stroke" fill="none" stroke="#8F64AA" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="4.5,4" d="M105.8,347.9H183
    c14.9,0,27-12.1,27-27s12.1-27,27-27h33.4"></path>
</svg>
            <div class="tap"></div>
            <div class="arrow"></div>
            <div class="iphone device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/learning-from-past-mistakes-1%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/learning-from-past-mistakes-1%402x.jpg" width="500" style="opacity: 1; transition: opacity 0.2s linear;">
                    </div>
                </div>
            </div>
            <div class="iphone device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/learning-from-past-mistakes-2%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/learning-from-past-mistakes-2%402x.jpg" width="500" style="opacity: 1; transition: opacity 0.2s linear;">
                    </div>
                </div>
            </div>
            <div class="graphic-caption">
                <div class="graphic-caption-content">
                    <h4 class="caption-title">Renaming an Itinerary</h4>
                    <div class="caption-text">
                        The ability to rename an existing itinerary was one part of making the Itinerary section a useful planning tool for users.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="graphic-caption" id="caption-learning-from-past-mistakes">
    <script>
        document.write(document.querySelector("#graphic-learning-from-past-mistakes .graphic-caption").innerHTML);
    </script>
</div>

            <p>
                Since every location is geolocated, we wanted to plot them on a map and visualize a route between points. Turning an itinerary into a route posed a problem, however – unlike the curated content of our Walks section, a user itinerary is likely to be created without regard for the logistics of getting from place to place.
            </p>
            <p class="quote">
                <em>We didn’t want users locked into illogical routes, so we created a toggle that shows an optimized route for their custom itinerary.</em>
            </p>
            <div class="case-study-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="150px" height="150px" viewBox="0 0 150 150" enable-background="new 0 0 150 150" xml:space="preserve">
<g>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M60.7,99.1"></path>
    
        <polyline fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="
        60.7,99.1 33.6,106.6 33.6,55.3 60.7,47.5    "></polyline>
    
        <line fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="108.7" y1="93.5" x2="111.9" y2="92.6"></line>
    
        <line fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="105.9" y1="97.4" x2="111.9" y2="95.6"></line>
    
        <polyline fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="
        90.6,54.2 114.5,47.5 114.5,99.1 87.5,106.6  "></polyline>
    
        <polyline fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="
        67.3,49.5 60.7,47.5 60.6,47.9 60.5,47.9 60.5,48 60.5,53.4 60.5,53.5 60.5,53.5 60.5,72.7 60.5,72.7 60.5,95.6 60.5,95.6 
        60.5,95.6 60.5,99.5 60.6,99.5 60.6,99.5 60.6,99.3 87.5,106.6 87.5,101.1 87.5,101.1 87.5,94.8 87.5,94.7 87.5,71.4 87.5,71.3 
        87.5,60     "></polyline>
    <polyline fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="68,54.6 
        60.5,52 37.5,59.2 37.5,101.4 60.5,94.5 87.5,102.5 102.5,97.6 102.5,91.5 110,89  "></polyline>
    <polyline fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="88.1,60 
        110.5,53.1 110.5,89     "></polyline>
    <g>
        <g>
            <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" d="M42.3,85.5c0.3-0.4,0.6-0.8,0.9-1.2"></path>
            <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="3.024,3.024" d="
                M45.1,81.9C64.5,59.5,72.8,92.2,87,95c21.3,4.2,18.3-35.4-4.7-21.1"></path>
            <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" d="M81,74.7c-0.4,0.3-0.8,0.6-1.2,0.9"></path>
        </g>
    </g>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M91.5,51.5c0,6.6-12,18-12,18s-12-11.4-12-18s5.4-12,12-12S91.5,44.9,91.5,51.5z"></path>
    <circle fill="#A500BD" cx="106.2" cy="94.1" r="1.2"></circle>
    <circle fill="#A500BD" cx="79" cy="51" r="3"></circle>
</g>
</svg>

            </div>


            <h3>Routing That Gets&nbsp;Smarter</h3>
            <p>
                When we decided that users should be able to view an optimized order for their itineraries, we just figured we’d be able to work out some quick logic for that. However, the more we explored the problem, we realized we were really dealing with a variant of the classic “Traveling Salesman Problem” – according to <a href="http://en.wikipedia.org/wiki/Travelling_salesman_problem">Wikipedia</a>, “an NP-hard problem” and “one of the most intensively studied problems in optimization.” Oops.
            </p>
            <p>
                With some research, we came across a series of posts by <a href="http://www.psychicorigami.com/">John Montgomery</a>, detailing <a href="http://www.psychicorigami.com/category/tsp/">TSP solutions in Python</a>. By adapting his code, we were able to build a solution that gives us fairly optimal solutions – fairly optimal because, as the number of locations increases, the number of potential combinations increases exponentially, which makes finding a concrete ‘most optimal’ solution incredibly&nbsp;expensive.
            </p>
            <p>
                To skirt this weakness, we created a system in our API to cache and compare routing solutions server-side to improve routes over time without over-burdening the server on any particular request.
            </p>
            
<div class="slideshow narrow" id="slideshow-smarter-routing">
    <div class="graphic slideshow-placeholder">
        <div class="graphic-highlight"></div>
        <div class="device-group">
            <div class="device-group-content">
                <div class="iphone device">
                    <div class="device-aux-content">
                        <div class="device-screen">
                            <!-- populated with javascript -->
                        </div>
                    </div>

                    <div class="device-chrome"></div>
                    <div class="device-content">
                        <div class="device-screen">
                            <div class="screenshots">
                                <div class="screenshot">
                                    <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/slideshows/routing-illogical%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/slideshows/routing-illogical%402x.jpg" width="150" style="opacity: 1; transition: opacity 0.2s linear;">
                                    <div class="screenshot-caption">
                                        <h4 class="caption-title">Non-Optimal Route</h4>
                                        <div class="caption-text">
                                            <div class="caption-text-content">
                                                <p>Without using the Optimal Route toggle, users could easily end up with itinerary routes that will leave them scrambling all over the city.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="screenshot">
                                    <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/slideshows/routing-logical%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/slideshows/routing-logical%402x.jpg" width="150" style="opacity: 1; transition: opacity 0.2s linear;">
                                    <div class="screenshot-caption">
                                        <h4 class="caption-title">Optimal Route</h4>
                                        <div class="caption-text">
                                            <div class="caption-text-content">
                                                <p>Thanks to our server-side routing solution, we can provide users a more optimal route, minimizing unneccesary travel.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="slideshow-controls">
                    <div class="slideshow-caption">
                        <div class="slideshow-caption-outer">
                            <div class="slideshow-caption-inner">
                                <span class="slideshow-caption-continue"></span>
                                <div class="slideshow-caption-content">
                                    <h4 class="caption-title"></h4>
                                    <div class="caption-text">
                                        <div class="caption-text-content">
                                            <p></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pagination-bar">
                        <div class="pagination-bar-outer">
                            <div class="pagination-bar-inner">
                                <div class="pagination-bar-content">
                                    <div class="pagination-bar-handle"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

        </div>

        <div class="page-section" id="how-to-gesture" style="display: none;">
            <div class="page-section-number">
                <hr>
                <span>06</span>
            </div>

            <h2>
                How to Gesture
                <span class="subtitle-separator">/</span>
                <span class="subtitle">First, Do No&nbsp;Harm...</span>
            </h2>
            <p>
                Tapping is great. We love tapping on things. That being said, the ‘tap’ is only one part of what made the iPhone such a disruptive, scene-altering technology. Swiping and pinching were essential parts of iOS from the beginning. Obviously, we have standard scrolling content and maps that can be panned and zoomed, but beyond that, we have to be a little more thoughtful about our use of gestures. We have two guiding principles for the use of specialized gestures:
            </p>
            <ol class="list">
                <li><p>No primary features should require a specialized gesture to access</p></li>
                <li><p>Specialized gestures can give power users access to less-important features as well as quicker ways to traverse primary features</p></li>
            </ol>
            
<div class="slideshow narrow" id="slideshow-how-to-gesture">
    <div class="graphic slideshow-placeholder">
        <div class="graphic-highlight"></div>
        <div class="device-group">
            <div class="device-group-content">
                <div class="iphone device">
                    <div class="device-aux-content">
                        <div class="device-screen">
                            <!-- populated with javascript -->
                        </div>
                    </div>

                    <div class="device-chrome"></div>
                    <div class="device-content">
                        <div class="device-screen">
                            <div class="screenshots">
                                <div class="screenshot">
                                    <div class="video-player" data-video-url="http://com.rallyinteractive.cdn.s3.amazonaws.com/video/city-guides/slideshow-main-menu.mov">
                                        <div class="video-player-overlay"><a href="#">play</a></div>
                                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-gesture-main-menu.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-gesture-main-menu.jpg" style="opacity: 1; transition: opacity 0.2s linear;">
                                    </div>
                                    <div class="screenshot-caption">
                                        <h4 class="caption-title">Main Menu</h4>
                                        <div class="caption-text">
                                            <div class="caption-text-content">
                                                <p>We learned on <a class="internal-link" href="/national-parks/">National Parks</a> that with the stack metaphor popularized by iOS, it’s easy for users to get buried in crosslinked content. Our solution for City Guides was a main menu that is always accessible to the user, allowing them to jump from anywhere, no matter how buried, to a different section of the app. While there is a tappable UI callout visible at all times, we also wanted to allow for opening and closing the menu with a simple swiping gesture.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="screenshot">
                                    <div class="video-player" data-video-url="http://com.rallyinteractive.cdn.s3.amazonaws.com/video/city-guides/slideshow-swipable-list.mov">
                                        <div class="video-player-overlay"><a href="#">play</a></div>
                                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-gesture-swipe.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-gesture-swipe.jpg" style="opacity: 1; transition: opacity 0.2s linear;">
                                    </div>
                                    <div class="screenshot-caption">
                                        <h4 class="caption-title">Swipeable List Cells</h4>
                                        <div class="caption-text">
                                            <div class="caption-text-content">
                                                <p>We love (and miss) the swipeable cells pioneered by <a href="https://twitter.com/lorenb">Loren Brichter</a> in Tweetie 2. We wanted to replicate the same slinky feel, allowing the user to pull the cell to the side with immediate visual feedback. We wound up using these swipeable cells two ways: for primary content, exposing the context menu options, and for user-curated itineraries, to reveal editing options. We’re particularly proud of the renaming feature, where the swiped cell expands to become an input field.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="screenshot">
                                    <div class="video-player" data-video-url="http://com.rallyinteractive.cdn.s3.amazonaws.com/video/city-guides/slideshow-detail-views.mov">
                                        <div class="video-player-overlay"><a href="#">play</a></div>
                                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-gesture-detail-view.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-gesture-detail-view.jpg" style="opacity: 1; transition: opacity 0.2s linear;">
                                    </div>
                                    <div class="screenshot-caption">
                                        <h4 class="caption-title">Detail Views</h4>
                                        <div class="caption-text">
                                            <div class="caption-text-content">
                                                <p>In our ongoing quest to connect users to interesting content, we turned our gaze upon news reader apps and came away with a sideways swipe for more content. In any detail view coming from a list, the user can swipe left or right to traverse the content in the parent list.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="screenshot">
                                    <div class="video-player" data-video-url="http://com.rallyinteractive.cdn.s3.amazonaws.com/video/city-guides/slideshow-weather.mov">
                                        <div class="video-player-overlay"><a href="#">play</a></div>
                                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-gesture-weather.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-gesture-weather.jpg" style="opacity: 1; transition: opacity 0.2s linear;">
                                    </div>
                                    <div class="screenshot-caption">
                                        <h4 class="caption-title">Weather</h4>
                                        <div class="caption-text">
                                            <div class="caption-text-content">
                                                <p>There’s a glut of weather apps out there, and among them, hourly forecasts for the next 24 hours are nearly universal. However, hourly forecasts rarely extend into the rest of the week. Our goal for the weather section was to show detailed breakdowns for a full 7-day forecast, but without a lot of clutter. We were inspired by <a href="http://thisissolar.com/">Solar</a>’s vertically-scrolling 24 hour forecast, and wanted to apply the same principle to a full 7-day forecast. Users can swipe back and forth across the screen to scroll through the forecast, or they can use the day indicators at the top to jump between days with more precision.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="slideshow-controls">
                    <div class="slideshow-caption">
                        <div class="slideshow-caption-outer">
                            <div class="slideshow-caption-inner">
                                <span class="slideshow-caption-continue"></span>
                                <div class="slideshow-caption-content">
                                    <h4 class="caption-title"></h4>
                                    <div class="caption-text">
                                        <div class="caption-text-content">
                                            <p></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pagination-bar">
                        <div class="pagination-bar-outer">
                            <div class="pagination-bar-inner">
                                <div class="pagination-bar-content">
                                    <div class="pagination-bar-handle"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


            <!-- Relevant copy was killed
            <div class="case-study-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     width="150px" height="150px" viewBox="0 0 150 150" enable-background="new 0 0 150 150" xml:space="preserve">
<g>
    
        <circle fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="75.5" cy="42.5" r="10"/>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M81.5,41.5
        c0,3.9-3.1,7-7,7"/>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M81.6,42.8"/>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="17.5" y1="67.5" x2="132.5" y2="67.5"/>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M48.9,91.2
        c-1.5,4.9-6,8.4-11.4,8.4"/>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M17.5,86.5c0,10,8.5,18,19,18s19-8,19-18H17.5z"/>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="17" y1="85" x2="35" y2="67"/>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="38" y1="67" x2="56" y2="85"/>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M75,104.5c-4.4,0-8.2,2-9.5,6h19C83.2,106.5,79.4,104.5,75,104.5z"/>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="72.5" y1="52.5" x2="70.5" y2="104.5"/>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="79.5" y1="104.5" x2="77.5" y2="52.5"/>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="36.5" y1="85" x2="36.5" y2="59"/>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M125.9,91.2
        c-1.5,4.9-6,8.4-11.4,8.4"/>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M94.5,86.5c0,10,8.5,18,19,18s19-8,19-18H94.5z"/>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="94" y1="85" x2="112" y2="67"/>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="115" y1="67" x2="133" y2="85"/>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="113.5" y1="85" x2="113.5" y2="59"/>
</g>
</svg>

            </div>
            -->
        </div>

        <div class="page-section" id="custom-animation" style="display: none;">
            <div class="page-section-number">
                <hr>
                <span>07</span>
            </div>

            <h2>
                Custom Animation
                <span class="subtitle-separator">/</span>
                <span class="subtitle">Someday the Developers Will Have Their&nbsp;Revenge</span>
            </h2>
            <p>
                The iOS SDK gives developers the ability to quickly and easily create animations that are pretty good. Unfortunately, our ambitions are a bit higher than <em>pretty good</em>. This means custom animations, all the time. Be warned – this way lies madness.
            </p>
            <div class="case-study-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="150px" height="150px" viewBox="0 0 150 150" enable-background="new 0 0 150 150" xml:space="preserve">
<g>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M102.5,80.1c0-4.8-3.9-8.6-8.6-8.6H47.1c-4.8,0-8.6,3.9-8.6,8.6v28.8c0,4.8,3.9,8.6,8.6,8.6h46.8c4.8,0,8.6-3.9,8.6-8.6V80.1z"></path>
    
        <circle fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="52" cy="52" r="12.5"></circle>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M43.5,51.5
        c0.4-4.5,3.8-8,8-8"></path>
    
        <circle fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="88.5" cy="48.5" r="16"></circle>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M77,45
        c1.4-4,4.8-7.1,9-8"></path>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="88" y1="64.5" x2="52" y2="64.5"></line>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="51.9" y1="39.7" x2="83.3" y2="32.8"></line>
    
        <rect x="108.5" y="83.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="13" height="21"></rect>
    
        <rect x="38.5" y="81.5" fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="19" height="5"></rect>
    
        <rect x="102.5" y="87.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="6" height="13"></rect>
    
        <rect x="25.5" y="88.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="8" height="11"></rect>
    
        <rect x="33.5" y="89.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="5" height="9"></rect>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M122.2,84.3c2.5,2.3,3.3,6.1,3.3,9.7s-0.8,6.3-3.3,8.5"></path>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M109.4,104.8c-0.3-0.1-0.6-0.3-0.9-0.4"></path>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linejoin="round" stroke-miterlimit="10" x1="58.5" y1="72" x2="58.5" y2="117"></line>
    
        <line fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="109" y1="89.5" x2="121" y2="89.5"></line>
    
        <line fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="109" y1="91.5" x2="121" y2="91.5"></line>
    
        <line fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="109" y1="93.5" x2="121" y2="93.5"></line>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="88.5" y1="71" x2="88.5" y2="48"></line>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="51.5" y1="71" x2="51.5" y2="52"></line>
    <circle fill="#A500BD" cx="80" cy="107" r="4"></circle>
    <g>
        <path fill="#A500BD" d="M91,104c1.7,0,3,1.3,3,3s-1.3,3-3,3s-3-1.3-3-3S89.3,104,91,104 M91,103c-2.2,0-4,1.8-4,4s1.8,4,4,4
            s4-1.8,4-4S93.2,103,91,103L91,103z"></path>
    </g>
</g>
</svg>

            </div>

            <h3>Prototyping</h3>
            <p>
                Whenever we have the time, we start by prototyping our animations in After Effects. Free from the immediate concerns of feasibility, we can go crazy, exploring different variations of timing, easing, and 3D transforms. These prototypes are essential as a communication tool, allowing us to give National Geographic a quick look at our thinking as well as starting a dialogue between the designers and&nbsp;developers.
            </p>

            <div class="featured-image">
                <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/city-guides-prototyping%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/city-guides-prototyping%402x.jpg" width="2520" style="opacity: 1; transition: opacity 0.2s linear;">
            </div>

            <h3>The Devil’s in the&nbsp;Details</h3>
            <p>
                Based on our prototypes, we can start to rough in the animations into our builds. We don’t like to get too precious about the animations in the beginning – the differences in 3D projections between After Effects and iOS make the porting of values an inexact science, so we tend to focus on broad strokes, setting up basic transforms and multi-part animations we know we’ll need.
            </p>
            <p>
                Often, these rough animations will persist in the build for quite some time while we build other features. As deadlines approach (often, the day of submission), we get serious about these.
            </p>
            <p>
                The process generally entails a developer (whoever has the most patience left) sitting side-by-side with a designer, tweaking values to fine-tune the animation into the precise, sexy beast that we’re looking for. This process can quite literally go on for hours; in this case, the tuning of the main card-flip animation took the better part of a day.
            </p>
            
<div class="slideshow narrow" id="slideshow-custom-animation">
    <div class="graphic slideshow-placeholder">
        <div class="graphic-highlight"></div>
        <div class="device-group">
            <div class="device-group-content">
                <div class="iphone device">
                    <div class="device-aux-content">
                        <div class="device-screen">
                            <!-- populated with javascript -->
                        </div>
                    </div>

                    <div class="device-chrome"></div>
                    <div class="device-content">
                        <div class="device-screen">
                            <div class="screenshots">
                                <div class="screenshot">
                                    <div class="video-player" data-video-url="http://com.rallyinteractive.cdn.s3.amazonaws.com/video/city-guides/details-city-cards.mov">
                                        <div class="video-player-overlay"><a href="#">play</a></div>
                                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-details-city-cards.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-details-city-cards.jpg" style="opacity: 1; transition: opacity 0.2s linear;">
                                    </div>
                                    <div class="screenshot-caption">
                                        <h4 class="caption-title">City Cards</h4>
                                        <div class="caption-text">
                                            <div class="caption-text-content">
                                                <p>An quick After Effects prototype formed the basis of the City Card animation, giving us a unique effect rather than simply a standard scrolling motion.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="screenshot">
                                    <div class="video-player" data-video-url="http://com.rallyinteractive.cdn.s3.amazonaws.com/video/city-guides/details-city-essentials.mov">
                                        <div class="video-player-overlay"><a href="#">play</a></div>
                                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-details-essentials.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/video-details-essentials.jpg" style="opacity: 1; transition: opacity 0.2s linear;">
                                    </div>
                                    <div class="screenshot-caption">
                                        <h4 class="caption-title">City Statistics</h4>
                                        <div class="caption-text">
                                            <div class="caption-text-content">
                                                <p>The Statistics section gave us an opportunity to have a little fun with animations, animating both the location of elements and the numerical values of the statistics.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="slideshow-controls">
                    <div class="slideshow-caption">
                        <div class="slideshow-caption-outer">
                            <div class="slideshow-caption-inner">
                                <span class="slideshow-caption-continue"></span>
                                <div class="slideshow-caption-content">
                                    <h4 class="caption-title"></h4>
                                    <div class="caption-text">
                                        <div class="caption-text-content">
                                            <p></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pagination-bar">
                        <div class="pagination-bar-outer">
                            <div class="pagination-bar-inner">
                                <div class="pagination-bar-content">
                                    <div class="pagination-bar-handle"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>new R.Slideshow().init(R.qs("#slideshow-custom-animation"));</script>

            <div class="case-study-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="150px" height="150px" viewBox="0 0 150 150" enable-background="new 0 0 150 150" xml:space="preserve">
<g>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M39.5,113.5v18h9.8c0-5,3.5-8,7.8-8h32.1c4.3,0,7.8,3,7.8,8h9.6v-18H39.5z"></path>
    
        <rect x="34.5" y="102.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="77" height="11"></rect>
    <g>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M77.3,45.4C55.1,48.3,39.5,67,39.5,90v12"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M79.2,60.6c-0.5,0.1-1,0.2-1.5,0.4C65,64.6,55.4,75.9,54.4,89.5"></path>
    </g>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M66.4,52.6
        C57.9,57.2,51.1,64.4,47,73.1"></path>
    
        <polyline fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="
        85.5,63 85.5,73.5 91.7,73.5 101.4,73.5 107.5,73.5 107.5,30.5 101.4,30.5 91.7,30.5 85.5,30.5 85.5,43     "></polyline>
    
        <rect x="91.5" y="73.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="10" height="7"></rect>
    
        <rect x="91.5" y="23.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="10" height="7"></rect>
    
        <rect x="88.5" y="16.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="16" height="7"></rect>
    
        <circle fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="85.3" cy="52.6" r="10.1"></circle>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M79,52.6
        c0-3.5,2.8-6.3,6.3-6.3"></path>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="106.9" y1="94.5" x2="59.2" y2="94.5"></line>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M54.3,94.5"></path>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M55.2,94.5"></path>
    
        <circle fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="54.5" cy="94.5" r="5"></circle>
    <polyline fill="none" stroke="#A500BD" stroke-linejoin="round" stroke-miterlimit="10" points="89.5,39 89.5,34.5 92,34.5     "></polyline>
</g>
</svg>

            </div>
        </div>

        <div class="page-section" id="building-a-universal-app" style="display: none;">
            <div class="page-section-number">
                <hr>
                <span>08</span>
            </div>

            <h2>
                Building a Universal&nbsp;App
                <span class="subtitle-separator">/</span>
                <span class="subtitle">Or, How We Avoided Losing Our&nbsp;Minds</span>
            </h2>
            <p>
                Like <a class="internal-link" href="/national-parks/">National Parks</a>, we knew from the beginning that we’d be building both an iPhone and iPad version of City Guides. You have to start somewhere, so we knew we’d be focusing on the iPhone version first, both in design and development, and then circling back for the iPad.
            </p>
            
<div class="graphic" id="graphic-building-universal-app">
    <div class="graphic-highlight"></div>
    <div class="device-group">
        <div class="device-group-content">
            <div class="iphone device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/universal-iphone%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/universal-iphone%402x.jpg" style="opacity: 1; transition: opacity 0.2s linear;">
                        <span class="overlap-shadow"></span>
                    </div>
                </div>
            </div>

            <div class="ipad-portrait device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/universal-ipad%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/universal-ipad%402x.jpg" style="opacity: 1; transition: opacity 0.2s linear;">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


            <h3>Wildly Divergent Sizes</h3>
            <p>
                There was a simple reason to start with the iPhone: the screen is smaller. We had to figure out how to solve all our UX challenges with the real estate available to us. This cut both ways, though – sometimes we would come up with a great solution on the iPhone, but when it came to designing the iPad version, that solution simply wouldn’t work anymore. Perhaps using the extra space created awkward deadzones or a layout didn’t work in the larger format.
            </p>
            <p>
                To get a leg up on these design problems, we started by choosing a portrait-only orientation for the iPad app. We knew a tablet app shouldn’t simply be a scaled up version of the phone app, but keeping a similar aspect ratio helped.
            </p>
            <p class="quote">
                <em>There was a simple reason to start with the iPhone: the screen is smaller.</em>
            </p>
            <p>
                We found that list views, which were a staple of the iPhone version, were problematic on the iPad. Native apps generally solve that problem using a split-screen or popover, but we weren’t satisfied with those solutions. Inspired by grid-based products like Pinterest, we settled on presenting our lists as grids on the iPad.
            </p>
            <p>
                In the case of our context menu, we discovered that our iPhone solution looked silly on the iPad. We instead created a whole new paradigm for the menu, and we liked it so much that we decided to port it back to the iPhone to replace our original&nbsp;design.
            </p>

            <div class="case-study-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="150px" height="150px" viewBox="0 0 150 150" enable-background="new 0 0 150 150" xml:space="preserve">
<g>
    
        <rect x="27.5" y="39.5" fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="93" height="57"></rect>
    
        <polygon fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="
        87.5,109.5 60.5,109.5 64.1,96.5 83.9,96.5   "></polygon>
    <g>
        <path fill="#A500BD" d="M40.2,67.4c-0.1-0.2-0.1-0.2-0.4-0.2h-1.5c-0.2,0-0.3,0-0.4,0.2l-0.3,1c-0.1,0.4-0.2,0.7-0.2,0.8
            c0,0.1,0,0.2,0.3,0.2l0.3,0c0.1,0,0.1,0.2,0,0.2c-0.3,0-0.6,0-1,0c-0.3,0-0.7,0-0.9,0c-0.1,0-0.1-0.2,0-0.2l0.3,0
            c0.2,0,0.5-0.1,0.6-0.5c0.2-0.5,0.5-1.1,0.9-2.2l1-2.6c0.1-0.4,0.2-0.5,0.2-0.7c0.2-0.1,0.4-0.2,0.5-0.4c0.1,0,0.1,0,0.1,0.1
            c0.1,0.4,0.3,0.9,0.4,1.3l1.3,3.9c0.3,0.8,0.4,1,0.8,1l0.3,0c0.1,0,0,0.2,0,0.2c-0.4,0-0.7,0-1.2,0c-0.5,0-0.8,0-1.1,0
            c-0.1,0-0.1-0.2,0-0.2l0.3,0c0.2,0,0.3-0.1,0.3-0.2c0-0.1,0-0.3-0.1-0.5L40.2,67.4z M38.3,66.5c-0.1,0.2-0.1,0.2,0.2,0.2h1.2
            c0.3,0,0.3,0,0.2-0.3l-0.5-1.6c-0.1-0.2-0.2-0.5-0.2-0.6h0c0,0-0.1,0.3-0.2,0.6L38.3,66.5z"></path>
    </g>
    <g>
        <path fill="#A500BD" d="M109.5,67.8c-0.2-0.5-0.3-0.6-1-0.6h-3.7c-0.6,0-0.8,0.1-0.9,0.6l-0.9,2.6c-0.4,1.1-0.5,1.8-0.5,2
            c0,0.3,0.1,0.4,0.7,0.5l0.8,0.1c0.2,0.1,0.2,0.5,0,0.6c-0.6,0-1.4,0-2.5-0.1c-0.8,0-1.7,0-2.3,0.1c-0.1-0.1-0.2-0.5,0-0.6l0.8-0.1
            c0.6,0,1.1-0.3,1.5-1.2c0.4-1.1,1.1-2.7,2.1-5.4l2.5-6.6c0.3-0.9,0.5-1.3,0.4-1.7c0.6-0.2,1-0.6,1.3-0.9c0.1,0,0.3,0,0.4,0.2
            c0.3,1.1,0.7,2.2,1.1,3.3l3.3,9.8c0.7,2.1,1,2.5,2.1,2.6l0.7,0.1c0.2,0.1,0.1,0.5,0,0.6c-1,0-1.8-0.1-2.9-0.1
            c-1.2,0-2.1,0-2.8,0.1c-0.2-0.1-0.2-0.5,0-0.6l0.7-0.1c0.5,0,0.9-0.2,0.9-0.4c0-0.3-0.1-0.7-0.3-1.3L109.5,67.8z M104.7,65.6
            c-0.2,0.6-0.2,0.6,0.5,0.6h3c0.7,0,0.8-0.1,0.5-0.8l-1.3-4c-0.2-0.6-0.4-1.2-0.6-1.5h0c-0.1,0.1-0.3,0.7-0.6,1.4L104.7,65.6z"></path>
    </g>
    <circle fill="#A500BD" cx="56.5" cy="66.5" r="3.5"></circle>
    <line fill="none" stroke="#A500BD" stroke-linejoin="round" stroke-miterlimit="10" x1="48" y1="66.5" x2="95" y2="66.5"></line>
    <circle fill="#A500BD" cx="74" cy="91" r="2"></circle>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linejoin="round" stroke-miterlimit="10" x1="28" y1="85.5" x2="120" y2="85.5"></line>
    <rect x="34" y="46" fill="#A500BD" width="2" height="2"></rect>
    <rect x="38" y="46" fill="#A500BD" width="2" height="2"></rect>
    <rect x="42" y="46" fill="#A500BD" width="2" height="2"></rect>
    <g>
        <rect x="111" y="45" fill="#A500BD" width="1" height="1"></rect>
        <rect x="112" y="46" fill="#A500BD" width="1" height="1"></rect>
        <rect x="111" y="47" fill="#A500BD" width="1" height="1"></rect>
        <rect x="113" y="45" fill="#A500BD" width="1" height="1"></rect>
        <rect x="113" y="47" fill="#A500BD" width="1" height="1"></rect>
    </g>
</g>
</svg>

            </div>


            <h3>Shared Data Models or&nbsp;Bust</h3>
            <p>
                You never want to have to build your data models twice. We made sure we were building pure data models that could be shared across both platforms.
            </p>
            <p>
                This time around we leaned heavily on the use of on-demand getters, so that we only had to load data from the database into memory when we need it, rather than loading everything at the top.
            </p>
            <p>
                We were able to use what we learned on <a class="internal-link" href="/national-parks/">National Parks</a> to build a cleaner, simpler interface for fetching and caching data in memory – as developers, we’re always working to create better ways to protect us from ourselves.
            </p>
            
<div class="graphic" id="graphic-shared-data-models">
    <div class="graphic-highlight"></div>
    <div class="device-group">
        <div class="device-group-content">
            <div class="iphone device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/shared-data-iphone%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/shared-data-iphone%402x.jpg" width="500" style="opacity: 1; transition: opacity 0.2s linear;">
                        <span class="overlap-shadow"></span>
                    </div>
                </div>
            </div>
            <div class="ipad-portrait device">
                <div class="device-shadow"></div>
                <div class="device-chrome"></div>
                <div class="device-content">
                    <div class="device-screen">
                        <img src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/shared-data-ipad%402x.jpg" data-src="http://com.rallyinteractive.cdn.s3.amazonaws.com/img/case-studies/city-guides/screens/shared-data-ipad%402x.jpg" width="500" style="opacity: 1; transition: opacity 0.2s linear;">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


            <h3>Separate Views</h3>
            <p>
                While it’s important to keep our data models reusable, the same isn’t true for our views and view controllers. Very often, the layouts are different enough that there would be no benefit to trying to write code that would work for both. Even in the event of views that look very similar between devices, the difference in form factor means that sizes and spacing will end up being different.
            </p>
            <p>
                In our app delegate, we do a check to determine which device family we’re running, and from there we init the root view controller built specifically for that device and never look back.
            </p>
            <div class="case-study-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="150px" height="150px" viewBox="0 0 150 150" enable-background="new 0 0 150 150" xml:space="preserve">
<g>
    <g>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M55,46.7c4-9.4,13.7-14.8,24.3-13.7c9,0.9,16.3,6,19.6,13.8"></path>
        
            <rect x="68.7" y="37.8" transform="matrix(0.9691 -0.2466 0.2466 0.9691 -8.1479 19.3485)" fill="#A500BD" width="8.9" height="8.9"></rect>
        
            <rect x="82.4" y="41.6" transform="matrix(0.6981 0.716 -0.716 0.6981 59.194 -48.2836)" fill="#A500BD" width="8.9" height="8.9"></rect>
        <polygon fill="#A500BD" points="66.6,55.3 68.7,48.8 60.2,46.1 58.9,50.4         "></polygon>
        <polyline fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="
            87.1,55.5 87.3,54.7 88.4,55         "></polyline>
    </g>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M113.5,95.5v7c0,8.2-6.8,15-15,15h-43c-8.2,0-14.9-6.4-14.9-14.7V95"></path>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M113.5,74V61.3c0-8.2-6.5-14.9-14.6-15c-5.1,6.5-13,11.2-21.9,11.2s-16.7-4.7-21.7-11.2c-8.2,0.1-14.8,6.8-14.8,15v8.5V74"></path>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M44.5,63
        c0-6.9,2.3-11.9,9.2-12c0.9,1.2,1.9,2.2,3,3.2"></path>
    <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
        M114,74c-19.2-9.7-66.5-9.1-79.5,3.9v13.1c11,11.8,74,11.3,85,0V77.8C118.5,76.4,116.3,75.1,114,74"></path>
    <path fill="none" stroke="#A500BD" stroke-miterlimit="10" d="M42.5,79.7v8.7c9,7.8,60,7.5,69,0v-8.7C100.5,70.7,53.5,70,42.5,79.7
        z"></path>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="40.6" y1="70.2" x2="32.2" y2="61.8"></line>
    
        <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="40.7" y1="59.9" x2="37.4" y2="56.6"></line>
    <path fill="none" stroke="#A500BD" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M25.6,57
        c-1.9-1.9-1.9-5.1,0-7c1-1,2.2-1.5,3.5-1.5"></path>
    <path fill="#A500BD" d="M63,86.2c0,1.5-1.2,2.8-2.8,2.8h-4.5c-1.5,0-2.8-1.2-2.8-2.8v-4.5c0-1.5,1.2-2.8,2.8-2.8h4.5
        c1.5,0,2.8,1.2,2.8,2.8V86.2z"></path>
    <path fill="#A500BD" d="M101,86.2c0,1.5-1.2,2.8-2.8,2.8h-4.5c-1.5,0-2.8-1.2-2.8-2.8v-4.5c0-1.5,1.2-2.8,2.8-2.8h4.5
        c1.5,0,2.8,1.2,2.8,2.8V86.2z"></path>
    
        <circle fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="29.5" cy="53.5" r="9"></circle>
</g>
</svg>

            </div>

            <h3>Reducing Bloat</h3>
            <p>
                One of the best things about partnering with National Geographic is the inclusion of their incredible photography. Unfortunately, those beautiful photos can come at a hefty filesize cost, particularly when dealing with the truly absurd resolution of the Retina iPad.
            </p>
            <p>
                We wanted to ensure that the app would have a light footprint when you download it from the store, so we built a solution for downloading and storing photos on-demand. This required some fancy footwork, allowing downloads to resume from partial files, dynamically changing the prioritization of downloads, and resizing photos without blocking the main thread.
            </p>
            <div class="case-study-icon">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="150px" height="150px" viewBox="0 0 150 150" enable-background="new 0 0 150 150" xml:space="preserve">
<g>
    
        <circle fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="74.5" cy="74.5" r="44"></circle>
    <g>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M110.5,74.5c0,6.3-3.9,8.5-6.7,13.6c-2.1,3.7-1.5,9.6-4.7,12.4c-3.4,3-8.6,2.2-13,3.7c-3.7,1.3-7.6,6.2-11.7,6.2
            c-4.7,0-7.1-4.2-11.2-5.8c-3.7-1.4-9.1-0.1-12.1-2.6c-3.4-2.9-3.5-8.2-5.7-12.1c-2.8-5.1-6.9-7-6.9-13.2c0-4.5,4.1-9.3,5.6-13.3
            c1.7-4.4,0.6-10.1,3.8-13.5c3.1-3.3,10.4-3.7,14.6-5.7c4.7-2.2,6.4-5.8,11.9-5.8c5.1,0,7.4,4.5,11.8,6.4c4.6,2,11.2,1.4,14.6,5
            c3.9,4.1,3.1,8,4.7,13.5C106.3,66.6,110.5,71.1,110.5,74.5z"></path>
        
            <circle fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="74.5" cy="74.5" r="8"></circle>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M52.9,54.9c0,0,1.7,4.1,0,7.8"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M88.1,74.3c0,0,2.4,2.3,5.5,3"></path>
        
            <line fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="98.3" y1="60.2" x2="94.5" y2="65.1"></line>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M85.9,60.2c0,0,2,2.8,0,6.2"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M72.1,46.5c-2,1.6-0.9,3.8,0,7.8"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M59.3,65.7c1.7,4.3,0,7.8,0,7.8"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M62.1,55.3c0,0,4.2,1.2,5.1,5.2"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M51.5,75.2c-3.5,3.1-4.7,5.6-4.7,5.6"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M87.1,49.7c-0.1,2.6-2.6,2.9-6.3,4.5"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M100.9,75.2c0,0,1.7,4.1,0,7.8"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M90.9,87.5c2.1,0.7,0,7.8,0,7.8"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M75.3,89.6c2.1,0.7,6.7-0.5,6.7-0.5"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M74.5,96.6c0,0-0.1,2.8-1.7,6.4"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M64,92.7c0,0-0.9,2.1-3.9,4.6"></path>
        <path fill="none" stroke="#A500BD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
            M56.5,83c-0.1,0.5,0.9,6.7,0.9,6.7"></path>
    </g>
</g>
</svg>

            </div>
        </div>

        <div class="page-section response" id="city-guides-response" style="display: none;">
            <div class="page-section-number">
                <hr>
                <span>10</span>
            </div>

            <h2>
                Response
                <span class="subtitle-separator">/</span>
                <span class="subtitle">Repeat Clients are the highest compliments</span>
            </h2>
            <p class="response-quote">
                <em>For several years, National Geographic had wanted to create a City Guides app. In order to stand out in a very crowded category, execution was paramount. When Rally exceeded our expectations on the National Parks app, we knew we had found the ideal partner to help us craft something special. Rally understood from the start that National Geographic’s value proposition is quality, hand&shy;picked content, and that the interface needed to convey this at a glance. They worked tirelessly with us throughout the entire process, providing us with as many wireframes, designs, and prototypes as necessary to get it right. The result is an elegant, useful, and completely differentiated urban travel app. The Rally team is an exceptional group of talented and dedicated professionals who consistently deliver on our brand promise.</em>
            </p>
            <div class="caption">— <b>Rachel Graham</b>, Senior Director, Digital Book Publishing, National Geographic&nbsp;Society</div>
        </div>

        <footer class="page-section" style="display: none;">
            <h2>
                <a href="https://dribbble.com/rally/projects/212216" class="more-process">More of Our Process</a>
                on
                <a href="https://dribbble.com/rally/projects/212216" class="logo-dribbble">Dribbble</a>
            </h2>
            <div class="dribbble-shots">
                <div class="dribbble-shots-inner"></div>
            </div>
        </footer>
    </div>
    